<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>DavÅŸanÄ±mÄ±n Dert Kutusu ðŸ–¤</title>
  <style>
    body {
      background-color: #1a1a1a;
      font-family: 'Segoe UI', sans-serif;
      color: #f2f2f2;
      text-align: center;
      padding: 30px;
    }

    h1 {
      color: #ff69b4;
    }

    textarea {
      width: 80%;
      height: 150px;
      margin-top: 20px;
      padding: 10px;
      border: 2px solid #ff69b4;
      border-radius: 10px;
      resize: none;
      font-size: 16px;
      background-color: #2a2a2a;
      color: #fff;
    }

    button {
      background-color: #ff69b4;
      color: #1a1a1a;
      border: none;
      padding: 10px 20px;
      margin: 15px;
      font-size: 16px;
      border-radius: 12px;
      cursor: pointer;
    }

    .output {
      margin-top: 20px;
      padding: 15px;
      background-color: #333;
      border-radius: 10px;
      min-height: 100px;
      text-align: left;
    }

    .dert-blok {
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px dashed #777;
    }

    .cozum {
      margin-top: 10px;
      background-color: #222;
      padding: 8px;
      border-radius: 8px;
    }

    footer {
      margin-top: 40px;
      font-size: 12px;
      color: #999;
    }

    .cozum textarea {
      width: 100%;
      background-color: #1a1a1a;
      color: #f2f2f2;
      border: 1px solid #555;
      border-radius: 6px;
      margin-top: 5px;
      padding: 5px;
      resize: vertical;
    }
  </style>
</head>
<body>
  <h1>DavÅŸanÄ±mÄ±n Dert Kutusu ðŸ–¤</h1>
  <p>Ä°Ã§ine atma bana at... ben burdayÄ±m.</p>

  <textarea id="dertInput" placeholder="DÃ¶kÃ¼l davÅŸanÄ±m..."></textarea><br>
  <button onclick="dertiEkle()">Ä°Ã§ine atma habibe at </button>

  <!-- Habib iÃ§in gizli indir butonu -->
  <div id="habibMode" style="display: none;">
    <button onclick="indir()">Dertleri ve Ã‡Ã¶zÃ¼mleri Ä°ndir</button>
  </div>

  <div class="output" id="dertListesi">
    <em>Dertlerin burada belirecek</em>
  </div>

  <footer>
    HABÄ°B SÃœMEYYEYÄ° Ã‡OK SEVÄ°YOR, SÃœMEYYE DE ONU! ðŸ’œ
  </footer>

  <script>
    const dertler = [];

    const habibMod = window.location.search.includes("habib");

    function dertiEkle() {
      const input = document.getElementById("dertInput");
      const deger = input.value.trim();
      if (deger) {
        const zaman = new Date().toLocaleString("tr-TR");
        const kayit = {
          zaman: zaman,
          yazi: deger,
          cozum: ""
        };
        dertler.push(kayit);
        input.value = "";
        guncelleListe();
      }
    }

    function guncelleListe() {
      const alan = document.getElementById("dertListesi");
      alan.innerHTML = "";
      dertler.forEach((d, i) => {
        const blok = document.createElement("div");
        blok.className = "dert-blok";

        const p = document.createElement("p");
        p.innerHTML = `<strong>${i + 1}.</strong> [${d.zaman}] ${d.yazi}`;
        blok.appendChild(p);

        if (habibMod) {
          const cozumDiv = document.createElement("div");
          cozumDiv.className = "cozum";

          const label = document.createElement("label");
          label.textContent = "Habibâ€™in Ã‡Ã¶zÃ¼mÃ¼:";
          cozumDiv.appendChild(label);

          const textarea = document.createElement("textarea");
          textarea.value = d.cozum || "";
          textarea.placeholder = "Ã‡Ã¶zÃ¼mÃ¼nÃ¼ buraya yaz...";
          textarea.oninput = () => {
            d.cozum = textarea.value;
          };
          cozumDiv.appendChild(textarea);
          blok.appendChild(cozumDiv);
        }

        alan.appendChild(blok);
      });
    }

    function indir() {
      let metin = "";
      dertler.forEach((d, i) => {
        metin += `${i + 1}. [${d.zaman}]\nDERT: ${d.yazi}\nÃ‡Ã–ZÃœM: ${d.cozum || "-"}\n\n`;
      });

      const blob = new Blob([metin], { type: "text/plain;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "dert_ve_cozumler.txt";
      link.click();
    }

    if (habibMod) {
      document.getElementById("habibMode").style.display = "block";
    }
  </script>
</body>
</html>
